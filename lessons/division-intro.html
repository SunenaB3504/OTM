<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Division and Multiplication Connection - Math Fun</title>
    <link rel="stylesheet" href="../css/styles.css">
    <!-- Add Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Add additional meta tags for accessibility -->
    <meta name="description" content="Learn how division and multiplication are related as inverse operations">
    
    <!-- PWA meta tags -->
    <meta name="theme-color" content="#4a6bff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Math Fun">
    
    <!-- PWA manifest and icons -->
    <link rel="manifest" href="../manifest.json">
    <link rel="apple-touch-icon" href="../images/icons/icon-192x192.png">
    <link rel="icon" type="image/png" href="../images/icons/icon-192x192.png">
    
    <style>
        /* Specific styles for division lesson */
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .concept-section {
            margin-bottom: 25px;
            padding: 15px;
            border-left: 5px solid #9b59b6;
            background-color: #f5eef8;
        }
        
        .example {
            background-color: #f4ecf7;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        
        .interactive-area {
            border: 2px dashed #8e44ad;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
        }
        
        .fact-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .fact-table th, .fact-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        
        .fact-table th {
            background-color: #9b59b6;
            color: white;
        }
        
        .fact-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        
        .object-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 15px 0;
            gap: 5px;
        }
        
        .object {
            width: 30px;
            height: 30px;
            background-color: #9b59b6;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin: 3px;
            user-select: none;
        }
        
        .group-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 15px 0;
            gap: 20px;
        }
        
        .group {
            border: 2px solid #8e44ad;
            border-radius: 5px;
            padding: 10px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            min-width: 100px;
        }
        
        .equation {
            font-size: 24px;
            margin: 15px 0;
            font-weight: bold;
            text-align: center;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <!-- Add logo with consistent sizing -->
            <h1><img src="../images/math-fun-logo.png" alt="Math Fun Logo" class="site-logo" onerror="this.style.display='none'"> Math Fun</h1>
            <nav id="main-nav">
                <button aria-label="Toggle menu" id="menu-toggle">Menu</button>
                <ul id="nav-menu">
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../lessons.html" class="active">Lessons</a></li>
                    <li><a href="../games.html">Games</a></li>
                    <li><a href="../progress.html">Progress</a></li>
                    <li><a href="../settings.html">Settings</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <main>
        <div class="container">
            <div style="margin: 20px 0">
                <a href="../lessons.html" class="btn"><i class="fas fa-arrow-left"></i> Back to Lessons</a>
            </div>
            
            <h1>Division and Multiplication Connection</h1>
            <h2>Learning How Division and Multiplication Work Together</h2>
            
            <div class="concept-section">
                <h3>1. The Inverse Relationship</h3>
                <p>Multiplication and division are like opposites that work together! If multiplication builds something up, division breaks it down into equal parts.</p>
                
                <div class="example">
                    <h4>Tower Example</h4>
                    <p>Think of building a tower with blocks (multiplication) and then taking it apart to see how many blocks are in each layer (division).</p>
                    
                    <div class="interactive-area">
                        <p>If we have 3 layers with 4 blocks in each layer:</p>
                        <div class="equation">3 ร 4 = 12 blocks total</div>
                        
                        <p>If we take 12 blocks and make 3 equal layers:</p>
                        <div class="equation">12 รท 3 = 4 blocks per layer</div>
                        
                        <p>If we take 12 blocks and make layers of 4 blocks each:</p>
                        <div class="equation">12 รท 4 = 3 layers</div>
                    </div>
                </div>
                
                <!-- New Interactive Game -->
                <div class="example">
                    <h4>๐ฎ Flip and Match Game ๐ฎ</h4>
                    <p>Match each multiplication fact with its division opposite!</p>
                    
                    <div class="interactive-area" style="background-color: #f0e6f6; border: 2px solid #8e44ad;">
                        <div id="flip-match-game" style="margin: 20px 0;">
                            <div class="game-status" style="margin-bottom: 15px; font-weight: bold;" id="game-status">
                                Find the matching pairs!
                            </div>
                            
                            <div id="score-display" style="margin-bottom: 10px;">
                                <span>Matches: <span id="matches-count">0</span>/6</span>
                                <span style="margin-left: 20px;">Attempts: <span id="attempts-count">0</span></span>
                            </div>
                            
                            <div id="card-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;">
                                <!-- Cards will be added by JavaScript -->
                            </div>
                            
                            <button id="reset-game" class="btn" style="margin-top: 15px; background-color: #8e44ad;">
                                Reset Game
                            </button>
                        </div>
                    </div>
                </div>
                
                <style>
                    .flip-card {
                        width: 100%;
                        height: 100px;
                        perspective: 1000px;
                        cursor: pointer;
                    }
                    
                    .flip-card-inner {
                        position: relative;
                        width: 100%;
                        height: 100%;
                        text-align: center;
                        transition: transform 0.6s;
                        transform-style: preserve-3d;
                    }
                    
                    .flip-card.flipped .flip-card-inner {
                        transform: rotateY(180deg);
                    }
                    
                    .flip-card-front, .flip-card-back {
                        position: absolute;
                        width: 100%;
                        height: 100%;
                        -webkit-backface-visibility: hidden;
                        backface-visibility: hidden;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border-radius: 10px;
                        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                        font-size: 20px;
                        font-weight: bold;
                    }
                    
                    .flip-card-front {
                        background-color: #9b59b6;
                        color: white;
                    }
                    
                    .flip-card-back {
                        background-color: #8e44ad;
                        color: white;
                        transform: rotateY(180deg);
                    }
                    
                    .matched .flip-card-back {
                        background-color: #27ae60;
                    }
                </style>
                
                <script>
                    document.addEventListener('DOMContentLoaded', function() {
                        // Game data - pairs of multiplication and division facts
                        const cardPairs = [
                            // Start with simple multiples of 2
                            { mult: "2 ร 1 = 2", div: "2 รท 2 = 1" },
                            { mult: "2 ร 2 = 4", div: "4 รท 2 = 2" },
                            { mult: "2 ร 3 = 6", div: "6 รท 2 = 3" },
                            // Medium difficulty - multiples of 5 and 10
                            { mult: "5 ร 2 = 10", div: "10 รท 5 = 2" },
                            // Slightly more challenging
                            { mult: "3 ร 4 = 12", div: "12 รท 3 = 4" },
                            { mult: "4 ร 5 = 20", div: "20 รท 4 = 5" }
                        ];
                        
                        // Additional code to enable level progression
                        let currentLevel = 1;
                        const maxLevel = 3;
                        
                        // Define card pairs for each level
                        const levelCardPairs = {
                            1: [
                                // Level 1: Very easy - multiples of 2
                                { mult: "2 ร 1 = 2", div: "2 รท 2 = 1" },
                                { mult: "2 ร 2 = 4", div: "4 รท 2 = 2" },
                                { mult: "2 ร 3 = 6", div: "6 รท 2 = 3" },
                                { mult: "2 ร 4 = 8", div: "8 รท 2 = 4" }
                            ],
                            2: [
                                // Level 2: Easy - multiples of 5 and simple 3's
                                { mult: "5 ร 1 = 5", div: "5 รท 5 = 1" },
                                { mult: "5 ร 2 = 10", div: "10 รท 5 = 2" },
                                { mult: "3 ร 2 = 6", div: "6 รท 3 = 2" },
                                { mult: "3 ร 3 = 9", div: "9 รท 3 = 3" }
                            ],
                            3: [
                                // Level 3: Medium - more challenging facts
                                { mult: "4 ร 3 = 12", div: "12 รท 4 = 3" },
                                { mult: "6 ร 2 = 12", div: "12 รท 6 = 2" },
                                { mult: "4 ร 5 = 20", div: "20 รท 4 = 5" },
                                { mult: "7 ร 3 = 21", div: "21 รท 7 = 3" }
                            ]
                        };
                        
                        const cardContainer = document.getElementById('card-container');
                        const gameStatus = document.getElementById('game-status');
                        const matchesCount = document.getElementById('matches-count');
                        const attemptsCount = document.getElementById('attempts-count');
                        const resetGameBtn = document.getElementById('reset-game');
                        
                        // Update the UI to show level information
                        const updateLevelDisplay = () => {
                            gameStatus.innerHTML = `Level ${currentLevel} - Find the matching pairs!`;
                        };
                        
                        let flippedCards = [];
                        let matchedPairs = 0;
                        let attempts = 0;
                        
                        function initGame() {
                            // Reset game state
                            flippedCards = [];
                            matchedPairs = 0;
                            attempts = 0;
                            cardContainer.innerHTML = '';
                            matchesCount.textContent = '0';
                            attemptsCount.textContent = '0';
                            
                            // Update level display
                            updateLevelDisplay();
                            
                            // Get cards for current level
                            const currentCards = levelCardPairs[currentLevel];
                            
                            // Create cards for each fact
                            const cards = [];
                            
                            // Add multiplication cards
                            currentCards.forEach((pair, index) => {
                                cards.push({
                                    id: `mult-${index}`,
                                    content: pair.mult,
                                    pairId: index
                                });
                            });
                            
                            // Add division cards
                            currentCards.forEach((pair, index) => {
                                cards.push({
                                    id: `div-${index}`,
                                    content: pair.div,
                                    pairId: index
                                });
                            });
                            
                            // Shuffle the cards
                            shuffleArray(cards);
                            
                            // Create and add card elements to container
                            cards.forEach(card => {
                                const cardElement = createCard(card);
                                cardContainer.appendChild(cardElement);
                            });
                        }
                        
                        function createCard(card) {
                            const cardDiv = document.createElement('div');
                            cardDiv.className = 'flip-card';
                            cardDiv.id = card.id;
                            cardDiv.dataset.pairId = card.pairId;
                            
                            cardDiv.innerHTML = `
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">
                                        <i class="fas fa-question"></i>
                                    </div>
                                    <div class="flip-card-back">
                                        ${card.content}
                                    </div>
                                </div>
                            `;
                            
                            cardDiv.addEventListener('click', () => flipCard(cardDiv));
                            
                            return cardDiv;
                        }
                        
                        function flipCard(card) {
                            // Prevent flipping if card is already flipped or matched
                            if (card.classList.contains('flipped') || 
                                card.classList.contains('matched') ||
                                flippedCards.length >= 2) {
                                return;
                            }
                            
                            // Flip the card
                            card.classList.add('flipped');
                            flippedCards.push(card);
                            
                            // Check for matches if two cards are flipped
                            if (flippedCards.length === 2) {
                                attempts++;
                                attemptsCount.textContent = attempts;
                                
                                const card1 = flippedCards[0];
                                const card2 = flippedCards[1];
                                
                                if (card1.dataset.pairId === card2.dataset.pairId) {
                                    // Match found
                                    setTimeout(() => {
                                        card1.classList.add('matched');
                                        card2.classList.add('matched');
                                        flippedCards = [];
                                        matchedPairs++;
                                        matchesCount.textContent = matchedPairs;
                                        
                                        // Check if all pairs are matched
                                        const currentPairs = levelCardPairs[currentLevel].length;
                                        if (matchedPairs === currentPairs) {
                                            if (currentLevel < maxLevel) {
                                                nextLevel();
                                            } else {
                                                gameStatus.innerHTML = '<span style="color: #27ae60;">Congratulations! You completed all levels!</span>';
                                            }
                                        }
                                    }, 500);
                                } else {
                                    // No match
                                    setTimeout(() => {
                                        card1.classList.remove('flipped');
                                        card2.classList.remove('flipped');
                                        flippedCards = [];
                                    }, 1000);
                                }
                            }
                        }
                        
                        function shuffleArray(array) {
                            for (let i = array.length - 1; i > 0; i--) {
                                const j = Math.floor(Math.random() * (i + 1));
                                [array[i], array[j]] = [array[j], array[i]];
                            }
                        }
                        
                        // Add reset button event listener
                        resetGameBtn.addEventListener('click', function() {
                            currentLevel = 1;
                            initGame();
                        });
                        
                        // Initialize game on load
                        initGame();
                    });
                </script>
            </div>
            
            <div class="concept-section">
                <h3>2. Using Division Facts to Find Multiplication Facts</h3>
                <p>We can use division facts we already know to figure out multiplication facts!</p>
                
                <div class="example">
                    <table class="fact-table">
                        <tr>
                            <th>Division Fact</th>
                            <th>Multiplication Fact</th>
                        </tr>
                        <tr>
                            <td>10 รท 2 = 5</td>
                            <td>2 ร 5 = 10</td>
                        </tr>
                        <tr>
                            <td>12 รท 3 = 4</td>
                            <td>3 ร 4 = 12</td>
                        </tr>
                        <tr>
                            <td>15 รท 5 = 3</td>
                            <td>5 ร 3 = 15</td>
                        </tr>
                        <tr>
                            <td>8 รท 2 = 4</td>
                            <td>2 ร 4 = 8</td>
                        </tr>
                    </table>
                    
                    <p>If you know that 12 รท 3 = 4, then you also know that 3 ร 4 = 12!</p>
                </div>
            </div>
            
            <div class="concept-section">
                <h3>3. Practice Converting Division to Multiplication</h3>
                <p>Let's practice changing division problems into multiplication problems:</p>
                
                <div class="interactive-area">
                    <table class="fact-table">
                        <tr>
                            <th>Division Fact</th>
                            <th>Multiplication Fact</th>
                        </tr>
                        <tr>
                            <td>18 รท 6 = 3</td>
                            <td>6 ร 3 = 18</td>
                        </tr>
                        <tr>
                            <td>20 รท 4 = 5</td>
                            <td>4 ร 5 = 20</td>
                        </tr>
                        <tr>
                            <td>16 รท 8 = 2</td>
                            <td>8 ร 2 = 16</td>
                        </tr>
                        <tr>
                            <td>21 รท 7 = 3</td>
                            <td>7 ร 3 = 21</td>
                        </tr>
                    </table>
                </div>
                
                <div class="example">
                    <h4>Try it yourself!</h4>
                    <p>9 รท 3 = 3. What's the multiplication fact?</p>
                    <button onclick="this.nextElementSibling.style.display='block';" class="btn">Show Answer</button>
                    <div style="display: none;">
                        <p>3 ร 3 = 9</p>
                    </div>
                </div>
            </div>
            
            <div class="concept-section">
                <h3>4. Fact Families</h3>
                <p>A fact family is a group of related multiplication and division facts using the same numbers.</p>
                
                <div class="example">
                    <h4>Fact Family with 2, 3, and 6</h4>
                    <table class="fact-table">
                        <tr>
                            <th colspan="2">Fact Family</th>
                        </tr>
                        <tr>
                            <td>2 ร 3 = 6</td>
                            <td>6 รท 2 = 3</td>
                        </tr>
                        <tr>
                            <td>3 ร 2 = 6</td>
                            <td>6 รท 3 = 2</td>
                        </tr>
                    </table>
                </div>
                
                <div class="interactive-area">
                    <h4>More Fact Families</h4>
                    <table class="fact-table">
                        <tr>
                            <th>Numbers</th>
                            <th>Fact Family</th>
                        </tr>
                        <tr>
                            <td>3, 4, 12</td>
                            <td>
                                3 ร 4 = 12<br>
                                4 ร 3 = 12<br>
                                12 รท 3 = 4<br>
                                12 รท 4 = 3
                            </td>
                        </tr>
                        <tr>
                            <td>5, 2, 10</td>
                            <td>
                                5 ร 2 = 10<br>
                                2 ร 5 = 10<br>
                                10 รท 5 = 2<br>
                                10 รท 2 = 5
                            </td>
                        </tr>
                        <tr>
                            <td>6, 4, 24</td>
                            <td>
                                6 ร 4 = 24<br>
                                4 ร 6 = 24<br>
                                24 รท 6 = 4<br>
                                24 รท 4 = 6
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class="concept-section">
                <h3>5. Interactive Activities with Objects</h3>
                <p>Let's use objects to see how division and multiplication are related:</p>
                
                <div class="interactive-area">
                    <h4>Example with 12 Objects</h4>
                    
                    <div class="object-container">
                        <div class="object">1</div>
                        <div class="object">2</div>
                        <div class="object">3</div>
                        <div class="object">4</div>
                        <div class="object">5</div>
                        <div class="object">6</div>
                        <div class="object">7</div>
                        <div class="object">8</div>
                        <div class="object">9</div>
                        <div class="object">10</div>
                        <div class="object">11</div>
                        <div class="object">12</div>
                    </div>
                    
                    <p>If we divide 12 objects into 3 equal groups:</p>
                    
                    <div class="group-container">
                        <div class="group">
                            <div class="object">1</div>
                            <div class="object">2</div>
                            <div class="object">3</div>
                            <div class="object">4</div>
                        </div>
                        <div class="group">
                            <div class="object">5</div>
                            <div class="object">6</div>
                            <div class="object">7</div>
                            <div class="object">8</div>
                        </div>
                        <div class="group">
                            <div class="object">9</div>
                            <div class="object">10</div>
                            <div class="object">11</div>
                            <div class="object">12</div>
                        </div>
                    </div>
                    
                    <div class="equation">12 รท 3 = 4</div>
                    <p>Each group has 4 objects.</p>
                    
                    <p>Looking at it as multiplication:</p>
                    <div class="equation">3 groups ร 4 objects = 12 objects total</div>
                    <div class="equation">3 ร 4 = 12</div>
                </div>
            </div>
            
            <div class="concept-section">
                <h3>6. Real-World Scenarios</h3>
                
                <div class="example">
                    <h4>Example 1: Buying Candy</h4>
                    <p>If you have 20 cents and candies cost 5 cents each, how many candies can you buy?</p>
                    <div class="equation">20 รท 5 = 4 candies</div>
                    
                    <p>If you buy 4 candies at 5 cents each, how much do they cost in total?</p>
                    <div class="equation">4 ร 5 = 20 cents</div>
                </div>
                
                <div class="example">
                    <h4>Example 2: Sharing Cookies</h4>
                    <p>If you have 12 cookies and share them equally among 3 friends, how many cookies does each friend get?</p>
                    <div class="equation">12 รท 3 = 4 cookies per friend</div>
                    
                    <p>If 3 friends each have 4 cookies, how many cookies are there in total?</p>
                    <div class="equation">3 ร 4 = 12 cookies total</div>
                </div>
            </div>
            
            <div class="concept-section">
                <h3>7. Quizzes and Games</h3>
                
                <div class="interactive-area">
                    <h4>Match the Facts</h4>
                    <p>For each multiplication fact, write the corresponding division facts:</p>
                    
                    <div class="example">
                        <p>7 ร 6 = 42</p>
                        <button onclick="this.nextElementSibling.style.display='block';" class="btn">Show Answer</button>
                        <div style="display: none;">
                            <p>42 รท 7 = 6 and 42 รท 6 = 7</p>
                        </div>
                    </div>
                    
                    <div class="example">
                        <p>5 ร 9 = 45</p>
                        <button onclick="this.nextElementSibling.style.display='block';" class="btn">Show Answer</button>
                        <div style="display: none;">
                            <p>45 รท 5 = 9 and 45 รท 9 = 5</p>
                        </div>
                    </div>
                    
                    <h4>Fact Family Challenge</h4>
                    <p>Complete the fact family for numbers 8, 7, and 56:</p>
                    <button onclick="this.nextElementSibling.style.display='block';" class="btn">Show Answer</button>
                    <div style="display: none;">
                        <table class="fact-table">
                            <tr>
                                <td>8 ร 7 = 56</td>
                                <td>56 รท 8 = 7</td>
                            </tr>
                            <tr>
                                <td>7 ร 8 = 56</td>
                                <td>56 รท 7 = 8</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="concept-section">
                <h3>8. Regular Reinforcement</h3>
                <p>Remember to check multiplication using division!</p>
                
                <div class="example">
                    <h4>Checking Your Work</h4>
                    <p>If you think 6 ร 7 = 42, you can check by division:</p>
                    <ul>
                        <li>42 รท 6 = 7 โ</li>
                        <li>42 รท 7 = 6 โ</li>
                    </ul>
                    <p>Both division problems give the expected answer, so 6 ร 7 = 42 is correct!</p>
                </div>
                
                <div class="interactive-area">
                    <h4>Try These Practice Problems</h4>
                    <p>1. If 9 ร 4 = 36, what is 36 รท 9?</p>
                    <button onclick="this.nextElementSibling.style.display='block';" class="btn">Show Answer</button>
                    <div style="display: none;">
                        <p>36 รท 9 = 4</p>
                    </div>
                    
                    <p>2. If 8 ร 5 = 40, what is 40 รท 5?</p>
                    <button onclick="this.nextElementSibling.style.display='block';" class="btn">Show Answer</button>
                    <div style="display: none;">
                        <p>40 รท 5 = 8</p>
                    </div>
                </div>
            </div>
            
            <div class="next-lesson">
                <p>Ready to practice what you've learned?</p>
                <div style="margin: 20px 0; text-align: center;">
                    <a href="division-worksheet.html" class="btn btn-large">Try Practice Problems <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <p>&copy; 2023 Math Fun. All rights reserved.</p>
            <div class="attribution">
                <p>Icons provided by <a href="https://fontawesome.com/" target="_blank" rel="noopener">Font Awesome</a></p>
            </div>
        </div>
    </footer>
    
    <!-- Install button for PWA (hidden by default) -->
    <div id="install-button" style="display: none;" class="install-banner">
        <div>
            <h3>Install Math Fun</h3>
            <p>Add this app to your home screen for quick access</p>
        </div>
        <button class="install-btn"><i class="fas fa-download"></i> Install</button>
    </div>

    <script src="../js/main.js"></script>
    <script src="../js/pwa.js"></script>
    <script>
        // Make objects interactive
        document.addEventListener('DOMContentLoaded', function() {
            const objects = document.querySelectorAll('.object');
            objects.forEach(obj => {
                obj.addEventListener('click', function() {
                    this.style.transform = 'scale(1.2)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 200);
                });
            });
        });
    </script>
</body>
</html>
